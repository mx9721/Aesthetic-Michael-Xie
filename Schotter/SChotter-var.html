<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schotter Variation</title>
    <style type="text/css">
        body {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <svg></svg>

    <script>
        const makeMySVG = () => {
            return `
            <svg width="100%" height="100%" viewBox="0 0 1500 2500">
                ${drawPattern()}
            </svg>`
        }

        const drawCircle = (cx, cy, r, stroke) => {
            return `
            <circle cx="${cx}" cy="${cy}" r="${r}" stroke="${stroke}" fill="none" />
            `
        }

        const transformCircle = (cx, cy, r, stroke, rotate, translateX, translateY, scaleX, scaleY) => {
            return `
            <g transform="rotate(${rotate} ${cx} ${cy}) translate(${translateX} ${translateY}) scale(${scaleX} ${scaleY})">
                ${drawCircle(cx, cy, r, stroke)}
            </g>`
        }

        const drawPattern = () => {
            let html = "";
            let y = 50;
            let x = 100;
            let factor = 1;
            let lastrand;

            for (let i = 0; i < 22; i++) {
                y += 100;
                x = 100 + i * 4;

                for (let j = 0; j < 12; j++) {
                    let random;
                    if (j % 2 == 0) {
                        random = -factor;
                    }
                    else {
                        random = factor;
                    }

                    html += `${transformCircle(x, y, 200, "red", Math.floor(Math.random() * factor), Math.floor(Math.random() * factor), Math.floor(Math.random() * factor), factor / 4, factor / 4)}`;
                    x += 100;
                }
                factor += 1;
            }

            console.log(html);
            return html;
        }

        document.querySelector("svg").outerHTML = makeMySVG();
    </script>
</body>

</html>